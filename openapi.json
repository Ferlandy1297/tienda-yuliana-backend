{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/productos/{id}":{"get":{"tags":["producto-controller"],"operationId":"getById_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDTO"}}}}}},"put":{"tags":["producto-controller"],"operationId":"actualizar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDTO"}}}}}},"delete":{"tags":["producto-controller"],"operationId":"eliminar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}},"/api/ventas":{"get":{"tags":["venta-controller"],"operationId":"listar","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VentaListItemDTO"}}}}}}},"post":{"tags":["venta-controller"],"operationId":"crear","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VentaCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaResponseDTO"}}}}}}},"/api/productos":{"get":{"tags":["producto-controller"],"operationId":"listar_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDTO"}}}}}}},"post":{"tags":["producto-controller"],"operationId":"crear_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDTO"}}}}}}},"/api/compras":{"post":{"tags":["compra-controller"],"operationId":"crear_2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompraCreateDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/compras/{id}/pagos":{"post":{"tags":["compra-controller"],"operationId":"pagar","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagoCompraDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}}}},"/api/ventas/{id}":{"get":{"tags":["venta-controller"],"operationId":"getById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VentaResponseDTO"}}}}}}},"/api/reportes/ventas":{"get":{"tags":["reportes-controller"],"operationId":"ventas","parameters":[{"name":"periodo","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReporteVentasDTO"}}}}}}},"/api/reportes/compras":{"get":{"tags":["reportes-controller"],"operationId":"compras","parameters":[{"name":"desde","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"hasta","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"proveedorId","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReporteComprasDTO"}}}}}}}},"/api/productos/stock-bajo":{"get":{"tags":["producto-controller"],"operationId":"stockBajo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDTO"}}}}}}}},"/api/health":{"get":{"tags":["health-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"components":{"schemas":{"ProductUpdateDTO":{"required":["costoActual","nombre","precioVenta","stock","stockMinimo"],"type":"object","properties":{"nombre":{"maxLength":160,"minLength":0,"type":"string"},"codigoBarras":{"maxLength":50,"minLength":0,"type":"string"},"precioVenta":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"costoActual":{"minimum":0.00,"exclusiveMinimum":false,"type":"number"},"stock":{"minimum":0,"type":"integer","format":"int32"},"stockMinimo":{"minimum":0,"type":"integer","format":"int32"},"idProveedor":{"type":"integer","format":"int32"},"activo":{"type":"boolean"}}},"ProductResponseDTO":{"type":"object","properties":{"idProducto":{"type":"integer","format":"int32"},"nombre":{"type":"string"},"codigoBarras":{"type":"string"},"precioVenta":{"type":"number"},"costoActual":{"type":"number"},"stock":{"type":"integer","format":"int32"},"stockMinimo":{"type":"integer","format":"int32"},"idProveedor":{"type":"integer","format":"int32"},"activo":{"type":"boolean"}}},"PagoCreateDTO":{"required":["montoEntregado"],"type":"object","properties":{"metodo":{"type":"string"},"montoEntregado":{"minimum":0.00,"exclusiveMinimum":false,"type":"number"},"denominacionBillete":{"type":"number"}}},"VentaCreateDTO":{"required":["detalles","idUsuario","tipo"],"type":"object","properties":{"tipo":{"type":"string"},"idCliente":{"type":"integer","format":"int32"},"idUsuario":{"type":"integer","format":"int32"},"detalles":{"type":"array","items":{"$ref":"#/components/schemas/VentaDetalleCreateDTO"}},"pago":{"$ref":"#/components/schemas/PagoCreateDTO"}}},"VentaDetalleCreateDTO":{"required":["cantidad","idProducto","precioUnitario"],"type":"object","properties":{"idProducto":{"type":"integer","format":"int32"},"idLote":{"type":"integer","format":"int32"},"cantidad":{"minimum":1,"type":"integer","format":"int32"},"precioUnitario":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"descuento":{"minimum":0.00,"exclusiveMinimum":false,"type":"number"}}},"DetalleOut":{"type":"object","properties":{"idProducto":{"type":"integer","format":"int32"},"idLote":{"type":"integer","format":"int32"},"cantidad":{"type":"integer","format":"int32"},"precioUnitario":{"type":"number"},"descuento":{"type":"number"}}},"PagoOut":{"type":"object","properties":{"idPago":{"type":"integer","format":"int32"},"metodo":{"type":"string"},"montoEntregado":{"type":"number"},"cambioCalculado":{"type":"number"}}},"VentaResponseDTO":{"type":"object","properties":{"idVenta":{"type":"integer","format":"int32"},"tipo":{"type":"string"},"idCliente":{"type":"integer","format":"int32"},"idUsuario":{"type":"integer","format":"int32"},"fechaHora":{"type":"string","format":"date-time"},"total":{"type":"number"},"detalles":{"type":"array","items":{"$ref":"#/components/schemas/DetalleOut"}},"pago":{"$ref":"#/components/schemas/PagoOut"}}},"ProductCreateDTO":{"required":["costoActual","nombre","precioVenta","stock","stockMinimo"],"type":"object","properties":{"nombre":{"maxLength":160,"minLength":0,"type":"string"},"codigoBarras":{"maxLength":50,"minLength":0,"type":"string"},"precioVenta":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"costoActual":{"minimum":0.00,"exclusiveMinimum":false,"type":"number"},"stock":{"minimum":0,"type":"integer","format":"int32"},"stockMinimo":{"minimum":0,"type":"integer","format":"int32"},"idProveedor":{"type":"integer","format":"int32"}}},"CompraCreateDTO":{"required":["idProveedor","items"],"type":"object","properties":{"idProveedor":{"type":"integer","format":"int32"},"condicion":{"type":"string"},"items":{"type":"array","items":{"$ref":"#/components/schemas/CompraItemDTO"}},"pagoInicial":{"type":"number"},"observacion":{"type":"string"}}},"CompraItemDTO":{"required":["idProducto"],"type":"object","properties":{"idProducto":{"type":"integer","format":"int32"},"cantidad":{"type":"integer","format":"int32"},"costoUnitario":{"type":"number"},"fechaVencimiento":{"type":"string","format":"date"}}},"PagoCompraDTO":{"required":["monto"],"type":"object","properties":{"monto":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"observacion":{"type":"string"}}},"LoginRequest":{"required":["nombreUsuario","password"],"type":"object","properties":{"nombreUsuario":{"type":"string"},"password":{"type":"string"}}},"LoginResponse":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int32"},"nombreUsuario":{"type":"string"},"rol":{"type":"string"}}},"VentaListItemDTO":{"type":"object","properties":{"idVenta":{"type":"integer","format":"int32"},"fechaHora":{"type":"string","format":"date-time"},"tipo":{"type":"string"},"idCliente":{"type":"integer","format":"int32"},"idUsuario":{"type":"integer","format":"int32"},"total":{"type":"number"}}},"DetalleDia":{"type":"object","properties":{"fecha":{"type":"string","format":"date"},"totalDia":{"type":"number"},"cantidadVentas":{"type":"integer","format":"int64"}}},"ReporteVentasDTO":{"type":"object","properties":{"periodo":{"type":"string"},"fechaInicio":{"type":"string","format":"date"},"fechaFin":{"type":"string","format":"date"},"totalVentas":{"type":"number"},"totalTransacciones":{"type":"integer","format":"int64"},"detalle":{"type":"array","items":{"$ref":"#/components/schemas/DetalleDia"}}}},"ReporteComprasDTO":{"type":"object","properties":{"fecha":{"type":"string","format":"date"},"total":{"type":"number"}}}}}}